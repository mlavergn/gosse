<!DOCTYPE html>
<html>

<head>

	<link href="https://fonts.googleapis.com/css?family=Rubik&display=swap" rel="stylesheet">

	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<!--Import Mithril-->
	<script src="https://unpkg.com/mithril/mithril.js"></script>

	<script>
		load = () => {
			var support = new EventSource('/events');
			support.onmessage = (event) => {
				var payload = JSON.parse(event.data);
				console.log(payload);
			};
		};
	</script>

</head>

<body>
	<script>
		var buttonClass = 'btn-small waves-effect waves-light blue';

		var root = document.body

		var Demo = {
			view: () => {
				return m('main', [m('div', {class: 'row center'}, [
						m('h5', {class: 'header col s12 light'}, 'GoSSE Demo'),
						m('button', {class: buttonClass, onclick: load}, 'Load')
					]
				)]);
			}
		};

		m.mount(root, Demo);
	</script>
</body>

</html>
